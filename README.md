# KAYART - á»¨ng Dá»¥ng Váº½ Cá»™ng TÃ¡c Thá»i Gian Thá»±c

> KayArt lÃ  Ä‘á»“ Ã¡n mÃ´n há»c NT106 â€“ Láº­p trÃ¬nh máº¡ng cÄƒn báº£n, á»©ng dá»¥ng váº½ vÃ  cá»™ng tÃ¡c nghá»‡ thuáº­t cho phÃ©p nhiá»u ngÆ°á»i dÃ¹ng sÃ¡ng táº¡o cÃ¹ng lÃºc trÃªn má»™t Canvas vá»›i sá»± há»— trá»£ cá»§a AI.

<p align="center">
  <img src="img/Logo.png" alt="KayArt Logo" width="200">
  <br>
  <i>SÃ¡ng táº¡o nghá»‡ thuáº­t cÃ¹ng nhau trong thá»i gian thá»±c</i>
  <br>
  <img src="https://img.shields.io/badge/C%23-239120?style=flat-square&logo=c-sharp&logoColor=white" alt="C#">
  <img src="https://img.shields.io/badge/.NET_8.0-512BD4?style=flat-square&logo=dotnet&logoColor=white" alt=".NET 8">
  <img src="https://img.shields.io/badge/Socket-TCP/UDP-orange?style=flat-square" alt="Socket">
  <img src="https://img.shields.io/badge/Redis-FF4438?style=flat-square&logo=redis&logoColor=white" alt="Redis">
</p>


## ğŸ« ThÃ´ng Tin Äá»“ Ãn

* **MÃ´n há»c:** Láº­p trÃ¬nh máº¡ng cÄƒn báº£n (NT106)
* **TrÆ°á»ng:** Äáº¡i há»c CÃ´ng nghá»‡ ThÃ´ng tin (UIT)
* **Giáº£ng viÃªn hÆ°á»›ng dáº«n:** ThS. LÃª Minh KhÃ¡nh Há»™i
* **NhÃ³m thá»±c hiá»‡n:** NhÃ³m 3

## ğŸ‘¥ ThÃ nh ViÃªn NhÃ³m

| STT | MSSV | Há» vÃ  tÃªn | Vai trÃ² |
|:---:|:---:|:---|:---:|
| 1 | 24520048 | **Huá»³nh PhÆ°á»›c An** | **Team Leader** |
| 2 | 24520043 | HÃ  Nguyá»…n Hiáº¿u An | Member |
| 3 | 24520054 | Nguyá»…n ChiÃªu Ã‚n | Member |
| 4 | 24520919 | VÃµ TÆ°á»Ÿng Tuáº¥n Kiá»‡t | Member |

## ğŸ“Œ Má»¥c lá»¥c
* [Giá»›i thiá»‡u](#-giá»›i-thiá»‡u-vá»-kayart)
* [CÃ´ng nghá»‡ sá»­ dá»¥ng](#-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
* [Kiáº¿n trÃºc há»‡ thá»‘ng](#-kiáº¿n-trÃºc-há»‡-thá»‘ng)
* [TÃ­nh nÄƒng ná»•i báº­t](#-tÃ­nh-nÄƒng-ná»•i-báº­t)
* [CÃ i Ä‘áº·t](#-cÃ i-Ä‘áº·t--cháº¡y-á»©ng-dá»¥ng)
* [HÃ¬nh áº£nh Demo](#-hÃ¬nh-áº£nh-demo)

## ğŸ¨ Giá»›i Thiá»‡u Vá» KayArt
> **Äiá»ƒm ná»•i báº­t:** Äá»“ng bá»™ hÃ³a nÃ©t váº½ thÃ´ng qua Socket vá»›i Ä‘á»™ trá»… tháº¥p vÃ  tá»‘i Æ°u hÃ³a báº±ng Redis Cache.  
> **Má»¥c tiÃªu:** ***SÃNG Táº O NGHá»† THUáº¬T CÃ™NG NHAU TRONG THá»œI GIAN THá»°C*** ğŸ¨âœ¨

KayArt lÃ  ná»n táº£ng váº½ cá»™ng tÃ¡c, nÆ¡i nghá»‡ sÄ©, ngÆ°á»i dÃ¹ng yÃªu thÃ­ch nghá»‡ thuáº­t, ngÆ°á»i dÃ¹ng Ä‘áº¡i trÃ  cÃ³ thá»ƒ káº¿t ná»‘i, sÃ¡ng táº¡o vÃ  chia sáº» tÃ¡c pháº©m/dá»± Ã¡n cá»§a mÃ¬nh.

1. **Káº¿t ná»‘i:** ÄÄƒng nháº­p vÃ  káº¿t ná»‘i vá»›i báº¡n bÃ¨, cá»™ng Ä‘á»“ng ngÆ°á»i dÃ¹ng cÃ¹ng nhu cáº§u trÃªn ná»n táº£ng.
2. **Táº¡o phÃ²ng:** Khá»Ÿi táº¡o khÃ´ng gian váº½ má»›i hoáº·c tham gia phÃ²ng cÃ³ sáºµn Ä‘á»ƒ cá»™ng tÃ¡c.
3. **SÃ¡ng táº¡o:** Sá»­ dá»¥ng bá»™ cÃ´ng cá»¥ váº½ Ä‘a dáº¡ng tá»« cÆ¡ báº£n Ä‘áº¿n nÃ¢ng cao, vá»›i sá»± há»— trá»£ cá»§a AI.
4. **TÆ°Æ¡ng tÃ¡c:** TrÃ² chuyá»‡n vÃ  trao Ä‘á»•i Ã½ tÆ°á»Ÿng vá»›i cÃ¡c thÃ nh viÃªn trong phÃ²ng.
5. **Äá»“ng bá»™:** Má»i nÃ©t váº½ Ä‘Æ°á»£c cáº­p nháº­t thá»i gian thá»±c cho táº¥t cáº£ thÃ nh viÃªn.
6. **Chia sáº»:** Xuáº¥t, lÆ°u tÃ¡c pháº©m/dá»± Ã¡n hoÃ n thÃ nh vá» mÃ¡y cá»§a báº¡n vÃ  chia sáº» vá»›i báº¡n bÃ¨.

## ğŸ›  CÃ´ng Nghá»‡ Sá»­ Dá»¥ng
| ThÃ nh pháº§n | CÃ´ng nghá»‡ | 
| :--- | :--- |
| **NgÃ´n ngá»¯** | C# (.NET 8.0 WinForms) |
| **Giao thá»©c máº¡ng** | TCP/UDP Sockets, JSON Serialization |
| **CÆ¡ sá»Ÿ dá»¯ liá»‡u** | SQL Server, Redis (Caching) |
| **XÃ¡c thá»±c & Báº£o máº­t** | JWT, Firebase Auth, Google Vault, reCAPTCHA |
| **Quáº£n lÃ­ Secret** | Google Secret Manager |
| **AI** | Stable Diffusion API Integration |
| **MÃ´i trÆ°á»ng phÃ¡t triá»ƒn** | Visual Studio 2022+ |
| **Quáº£n lÃ­ mÃ£ nguá»“n** | Git & GitHub |

## ğŸ— Kiáº¿n TrÃºc Há»‡ Thá»‘ng
Há»‡ thá»‘ng Ä‘Æ°á»£c thiáº¿t káº¿ theo mÃ´ hÃ¬nh **Client-Server**, xá»­ lÃ½ Ä‘á»“ng bá»™ Ä‘a luá»“ng:

![Kiáº¿n trÃºc há»‡ thá»‘ng](img/KienTruc.png)  
*(MÃ´ táº£: Server Ä‘iá»u phá»‘i cÃ¡c gÃ³i tin váº½ tá»« Client A Ä‘áº¿n táº¥t cáº£ Client khÃ¡c trong phÃ²ng)*

## ğŸŒ Network Stack & Communication Protocol

Há»‡ thá»‘ng truyá»n táº£i dá»¯ liá»‡u dá»±a trÃªn kiáº¿n trÃºc phÃ¢n lá»›p, tá»‘i Æ°u hÃ³a cho viá»‡c truyá»n táº£i cÃ¡c gÃ³i tin váº½ (Drawing Packets) vá»›i táº§n suáº¥t cao.

|  Network Stack |
| :---: |
| ![NetworkStack](img/NetworkStack.jpg) |

### 1. PhÃ¢n Lá»›p Giao Thá»©c (Network Layers)
| Lá»›p | CÃ´ng nghá»‡ sá»­ dá»¥ng | MÃ´ táº£ |
| :--- | :--- | :--- |
| **Application Layer** | **JSON Serialization** | Äá»‹nh dáº¡ng dá»¯ liá»‡u trao Ä‘á»•i giá»¯a Client vÃ  Server |
| **Presentation Layer** | **Newtonsoft.Json** | MÃ£ hÃ³a vÃ  giáº£i mÃ£ Ä‘á»‘i tÆ°á»£ng C# sang chuá»—i JSON |
| **Transport Layer** | **TCP & UDP Sockets** | ***TCP:*** Äáº£m báº£o Ä‘á»™ tin cáº­y cho Auth/Room. ***UDP:*** Tá»‘i Æ°u tá»‘c Ä‘á»™ cho nÃ©t váº½ |
| **Network Layer** | **IPv4 / DNS** | Äá»‹nh danh vÃ  Ä‘iá»u hÆ°á»›ng gÃ³i tin trong máº¡ng |

### 2. Cáº¥u TrÃºc GÃ³i Tin (Packet Structure)
Má»i thÃ´ng tin trao Ä‘á»•i Ä‘á»u Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i dÆ°á»›i dáº¡ng JSON:
```json
{
  {
  "Code": 6,
  "LoginUsername": "ten-nguoi-dung",
  "LoginPassword": "mat-khau-nguoi-dung",
  "CaptchaToken": "token-xac-thuc",
  ...
  }
}
```

## ğŸŒŸ TÃ­nh NÄƒng Ná»•i Báº­t

### ğŸ‘¤ Quáº£n LÃ½ NgÆ°á»i DÃ¹ng
* ***ÄÄƒng nháº­p & ÄÄƒng kÃ½:*** Há»‡ thá»‘ng xÃ¡c thá»±c an toÃ n vá»›i JWT vÃ  Firebase.
* ***KhÃ´i phá»¥c máº­t kháº©u:*** TÃ­nh nÄƒng quÃªn máº­t kháº©u vá»›i xÃ¡c thá»±c OTP qua email.
* ***Quáº£n lÃ½ há»“ sÆ¡:*** Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n vÃ  cÃ i Ä‘áº·t tÃ i khoáº£n.
* ***Danh sÃ¡ch báº¡n bÃ¨:*** Káº¿t ná»‘i vÃ  xem tráº¡ng thÃ¡i online cá»§a báº¡n bÃ¨.

### ğŸ® Há»‡ Thá»‘ng PhÃ²ng Váº½
* ***Táº¡o phÃ²ng má»›i:*** Khá»Ÿi táº¡o canvas tráº¯ng vÃ  má»i báº¡n bÃ¨ tham gia.
* ***Tham gia phÃ²ng:*** TÃ¬m kiáº¿m vÃ  gia nháº­p cÃ¡c phÃ²ng váº½ cÃ³ sáºµn.
* ***Quáº£n lÃ½ thÃ nh viÃªn:*** Hiá»ƒn thá»‹ danh sÃ¡ch ngÆ°á»i dÃ¹ng trong phÃ²ng theo thá»i gian thá»±c.
* ***Chat trong phÃ²ng:*** TrÃ² chuyá»‡n trá»±c tuyáº¿n vá»›i cÃ¡c thÃ nh viÃªn khÃ¡c.

### ğŸ–Œï¸ CÃ´ng Cá»¥ Váº½
* ***CÃ´ng cá»¥ cÆ¡ báº£n:*** BÃºt váº½, táº©y, hÃ¬nh dáº¡ng cÆ¡ báº£n (Ä‘Æ°á»ng tháº³ng, hÃ¬nh trÃ²n, hÃ¬nh chá»¯ nháº­t).
* ***CÃ´ng cá»¥ nÃ¢ng cao:*** MÃ u sáº¯c tÃ¹y chá»‰nh, Ä‘á»™ dÃ y nÃ©t váº½, Ä‘á»™ trong suá»‘t.
* ***Há»— trá»£ AI âœ¨:*** TÃ­nh nÄƒng AI Ä‘á»ƒ váº½ tá»± Ä‘á»™ng, chá»‰nh sá»­a vÃ  cáº£i thiá»‡n hÃ¬nh áº£nh.
* ***Layer management:*** Quáº£n lÃ½ cÃ¡c lá»›p váº½ Ä‘á»™c láº­p.

### âš¡ Äá»“ng Bá»™ Thá»i Gian Thá»±c
* ***Real-time Drawing:*** Má»i nÃ©t váº½ Ä‘Æ°á»£c Ä‘á»“ng bá»™ ngay láº­p tá»©c cho táº¥t cáº£ ngÆ°á»i dÃ¹ng.
* ***Sync on Join:*** NgÆ°á»i dÃ¹ng má»›i tá»± Ä‘á»™ng nháº­n toÃ n bá»™ ná»™i dung canvas hiá»‡n táº¡i.
* ***Optimized Performance:*** Sá»­ dá»¥ng Redis cache Ä‘á»ƒ tá»‘i Æ°u hiá»‡u suáº¥t Ä‘á»“ng bá»™.

### ğŸ’¾ LÆ°u Trá»¯ & Xuáº¥t
* ***LÆ°u tÃ¡c pháº©m:*** LÆ°u trá»¯ báº£n váº½ trÃªn server vá»›i kháº£ nÄƒng táº£i láº¡i.
* ***Xuáº¥t file:*** Xuáº¥t canvas dÆ°á»›i dáº¡ng PNG.
* ***Lá»‹ch sá»­:*** Xem láº¡i cÃ¡c tÃ¡c pháº©m Ä‘Ã£ táº¡o vÃ  lá»‹ch sá»­ phÃ²ng váº½.

### ğŸ”’ Báº£o Máº­t
* ***JWT Authentication:*** XÃ¡c thá»±c token an toÃ n cho má»i request.
* ***Firebase Integration:*** Quáº£n lÃ½ ngÆ°á»i dÃ¹ng vÃ  xÃ¡c thá»±c Ä‘a ná»n táº£ng.
* ***reCAPTCHA:*** Báº£o vá»‡ khá»i bot vÃ  spam.
* ***Secret Management:*** Báº£o máº­t thÃ´ng tin nháº¡y cáº£m vá»›i Vault/Google Secret Manager.

## ğŸ“‹ YÃªu Cáº§u Há»‡ Thá»‘ng

* .NET 8.0 SDK trá»Ÿ lÃªn
* Microsoft SQL Server hoáº·c SQL LocalDB
* Redis Server (cho caching)
* Visual Studio 2022 (khuyáº¿n nghá»‹) hoáº·c IDE tÆ°Æ¡ng tá»±
* Káº¿t ná»‘i Internet (cho tÃ­nh nÄƒng AI vÃ  Firebase)

## ğŸš€ CÃ i Äáº·t & Cháº¡y á»¨ng Dá»¥ng

### BÆ°á»›c 1: Clone Repository
```bash
git clone https://github.com/your-repo/kayart.git
cd kayart
```

### BÆ°á»›c 2: CÃ i Äáº·t Dependencies
Má»Ÿ solution trong Visual Studio vÃ  restore NuGet packages:
```bash
dotnet restore
```

### BÆ°á»›c 3: Cáº¥u HÃ¬nh Database
1. Má»Ÿ file `Server/appsettings.json`
2. Cáº­p nháº­t connection string cho SQL Server:
```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=KayArtDB;Trusted_Connection=True;"
  }
}
```

### BÆ°á»›c 4: Cháº¡y Database Scripts
Thá»±c thi cÃ¡c script SQL trong thÆ° má»¥c `Database/` Ä‘á»ƒ táº¡o schema vÃ  dá»¯ liá»‡u máº«u.

### BÆ°á»›c 5: Cáº¥u HÃ¬nh Redis
Äáº£m báº£o Redis Server Ä‘ang cháº¡y trÃªn localhost:6379 hoáº·c cáº­p nháº­t cáº¥u hÃ¬nh trong `appsettings.json`.

### BÆ°á»›c 6: Cáº¥u HÃ¬nh API Keys
ThÃªm cÃ¡c API keys cáº§n thiáº¿t vÃ o `appsettings.json` hoáº·c Secret Manager:
- Firebase credentials
- reCAPTCHA keys
- AI service keys (náº¿u cÃ³)

### BÆ°á»›c 7: Cháº¡y á»¨ng Dá»¥ng
1. Cháº¡y **Server** trÆ°á»›c:
```bash
cd Server
dotnet run
```

2. Sau Ä‘Ã³ cháº¡y **Client**:
```bash
cd Client
dotnet run
```

## ğŸ“¸ HÃ¬nh áº¢nh Demo

### ğŸ” XÃ¡c Thá»±c & Quáº£n LÃ½ TÃ i Khoáº£n
| ÄÄƒng nháº­p | ÄÄƒng kÃ½ |
| :---: | :---: |
| ![ÄÄƒng nháº­p](img/DangNhap.png) | ![ÄÄƒng kÃ½](img/DangKy.png) |

| QuÃªn máº­t kháº©u | XÃ¡c thá»±c OTP | Äáº·t láº¡i máº­t kháº©u |
| :---: | :---: |:---: |
| ![QuÃªn máº­t kháº©u](img/QuenMatKhau.png) | ![OTP](img/OTP.png) | ![Äáº·t láº¡i máº­t kháº©u](img/DatLaiMatKhau.png) |

---

### ğŸ  Dashboard & Danh SÃ¡ch PhÃ²ng
| Dashboard chÃ­nh | Danh sÃ¡ch phÃ²ng váº½ |
| :---: | :---: |
| ![Dashboard](img/Dashboard.png) | ![Danh sÃ¡ch phÃ²ng](img/DanhSachPhong.png) |

---

### ğŸ¨ Giao Diá»‡n Váº½
| Canvas vá»›i cÃ´ng cá»¥ váº½ |
| :---: |
| ![Canvas](img/Canvas.png) |

---

### ğŸ‘¥ TÃ­nh NÄƒng Cá»™ng TÃ¡c
| Chat trong phÃ²ng | Danh sÃ¡ch thÃ nh viÃªn |
| :---: | :---: |
| ![Chat](img/Chat.png) | ![ThÃ nh viÃªn](img/ThanhVien.png) |

---

### âœ¨ TÃ­nh NÄƒng AI 
| Demo AI |
| :---: |
| ![Demo váº½](img/drawing-demo.gif) |


## ğŸ“š TÃ i Liá»‡u
### 1. Kiáº¿n TrÃºc Há»‡ Thá»‘ng
KayArt váº­n hÃ nh theo mÃ´ hÃ¬nh **Client-Server** Ä‘a luá»“ng. Server Ä‘Ã³ng vai trÃ² trung tÃ¢m Ä‘iá»u phá»‘i, trong khi Client xá»­ lÃ½ giao diá»‡n ngÆ°á»i dÃ¹ng vÃ  tÆ°Æ¡ng tÃ¡c Canvas.
* **Server:** Xá»­ lÃ½ káº¿t ná»‘i (Socket), quáº£n lÃ½ phÃ²ng, xÃ¡c thá»±c ngÆ°á»i dÃ¹ng vÃ  lÆ°u trá»¯ dá»¯ liá»‡u.
* **Client:** Render nÃ©t váº½ báº±ng GDI+, gá»­i/nháº­n gÃ³i tin vÃ  tÃ­ch há»£p AI cho xá»­ lÃ½ hÃ¬nh áº£nh.

### 2. Luá»“ng Dá»¯ Liá»‡u Äá»“ng Bá»™ (Data Flow)
Äá»ƒ Ä‘áº£m báº£o tráº£i nghiá»‡m váº½ "thá»i gian thá»±c", há»‡ thá»‘ng sá»­ dá»¥ng cÆ¡ cháº¿ **Broadcasting** qua Socket:
* **Äá»™ trá»… tá»‘i thiá»ƒu:** Sá»­ dá»¥ng Redis Cache Ä‘á»ƒ lÆ°u táº¡m cÃ¡c nÃ©t váº½ hiá»‡n hÃ nh trÆ°á»›c khi ghi vÃ o Database chÃ­nh.
* **CÆ¡ cháº¿ Sync on Join:** Khi ngÆ°á»i dÃ¹ng má»›i tham gia, Server sáº½ gá»­i toÃ n bá»™ lá»‹ch sá»­ nÃ©t váº½ trong phÃ²ng Ä‘Ã³ tá»« Redis/DB Ä‘á»ƒ Client má»›i váº½ láº¡i toÃ n bá»™ Canvas.

### 3. LÆ°á»£c Äá»“ CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u
Há»‡ thá»‘ng sá»­ dá»¥ng SQL Server Ä‘á»ƒ quáº£n lÃ½ cÃ¡c thá»±c thá»ƒ quan trá»ng vÃ  má»‘i quan há»‡ giá»¯a chÃºng.
* **Users & Friends:** Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n vÃ  máº¡ng xÃ£ há»™i thu nhá».
* **Rooms & Participants:** Quáº£n lÃ½ phiÃªn lÃ m viá»‡c cá»™ng tÃ¡c.
* **Drawing:** LÆ°u trá»¯ dá»¯ liá»‡u nÃ©t váº½ dÆ°á»›i dáº¡ng vector Ä‘á»ƒ cÃ³ thá»ƒ tÃ¡i táº¡o láº¡i hÃ¬nh áº£nh báº¥t cá»© lÃºc nÃ o.

| CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u | 
| :---: | 
| ![CÆ¡ sá»Ÿ dá»¯ liá»‡u](img/CoSoDuLieu.png) | 

## ğŸ¤ ÄÃ³ng GÃ³p
ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p cho á»¨ng dá»¥ng vÃ  ráº¥t vui má»«ng Ä‘Æ°á»£c chÃ o Ä‘Ã³n báº¡n! Vui lÃ²ng lÃ m theo cÃ¡c bÆ°á»›c sau Ä‘á»ƒ Ä‘Ã³ng gÃ³p:
1. Fork repository
2. Táº¡o branch má»›i (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

## ğŸ“ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch há»c táº­p táº¡i Äáº¡i há»c CÃ´ng nghá»‡ ThÃ´ng tin (UIT).

## ğŸ™ Lá»i Cáº£m Æ n

- Cáº£m Æ¡n giáº£ng viÃªn Ths. LÃª Minh KhÃ¡nh Há»™i Ä‘Ã£ hÆ°á»›ng dáº«n Ä‘Ã£ há»— trá»£ trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn
- Cáº£m Æ¡n cÃ¡c thÆ° viá»‡n mÃ£ nguá»“n má»Ÿ Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trong dá»± Ã¡n
- Cáº£m Æ¡n cá»™ng Ä‘á»“ng .NET vÃ  cÃ¡c diá»…n Ä‘Ã n láº­p trÃ¬nh Ä‘Ã£ cung cáº¥p tÃ i nguyÃªn há»¯u Ã­ch

---

<p align="center">
  <b>KAYART</b> stands for <b>K</b>eep <b>A</b>ll <b>Y</b>our <b>A</b>bstract <b>R</b>eal-time <b>T</b>houghts <br>
  <strong>Made with â¤ï¸ by KayArt Team</strong>
</p>